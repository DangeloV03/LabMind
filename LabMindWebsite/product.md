I am building an app to help researchers with data analysis using AI. The user flow of this looks like the user first importing in all of their raw data (in all formats should be supported by the AI, csv etc.) and answering a quiz about what data analysis should be done. Think of the data analysis being done as a dynamic pipeline that the AI generates through a planning system. An example pipeline would be preprocessing, statistical analysis, and graph generation (but this could be dynamic based on the topic and the quiz answers!). The quiz questions are generated by the AI dynamically to help develop the plan for running the data analysis pipeline. After that, the AI executes each item in the plan in order. After finishing each item, the user can choose to confirm it and allow the AI to move to the next part of the plan or it could ask it to redo/edit it. The UI for this will be mostly text/attachment based, with a vertical progress bar on the left showing the pipeline progression and relevant text and deliverables being showcased at the end of each step in the pipeline. A UI for the quiz should be created as well.

Create a detailed product and technical spec for this app. Consider UI design for each page and how to implement the quiz functionality (what questions, what the agent/prompt structure will look like). Then consider how the AI will tackle each step in the pipeline. The AI should be an agent that calls tools relevant to each data step. Create a set of possible tools to use and find the right libraries that help with the design of these tools for the agent (find python libraries for executing ipynb or matplotlib code for example). 

In summary: for technical details, describe the quiz and agent structure for the quiz, and how the agent and tool calling works for running each step (think about the set of tools required to run most types of research, these tools should be pretty specific for different types of data analysis)